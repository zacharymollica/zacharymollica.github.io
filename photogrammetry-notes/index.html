<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>Photogrammetry Notes / Zac.</title><link rel="stylesheet" href="/assets/css/style-1.css"><link rel="icon" type="image/png" href="/assets/favicon/favicon-96x96.png" sizes="96x96"/><link rel="icon" type="image/svg+xml" href="/assets/favicon/favicon.svg"/><link rel="shortcut icon" href="/assets/favicon/favicon.ico"/><link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png"/><meta name="apple-mobile-web-app-title" content="Zac."/><link rel="manifest" href="/assets/favicon/site.webmanifest"/><link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"><meta name="description" content="Notes from Zac on using photogrammetry tools in your own work. This page contains a growing list of tips, notes and links relevant to a variety of software packages and 3D scan subjects."/><script async src="https://www.googletagmanager.com/gtag/js?id=G-PQG8VZBGK6"></script><script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-PQG8VZBGK6');
      </script><script src="/potree/libs/jquery/jquery-3.1.1.min.js"></script><script src="/assets/js/isotope.pkgd.min.js"></script></head><body><header><nav><div class="toggle-icon"><div id="nav-container"><span class="bar"></span><span class="bar"></span><span class="bar"></span></div></div><div id="navigation"><div class="navigation-block"><h1><a href="/">Home</a></h1></div><div class="navigation-block"><h1><a href="/about/">About</a></h1></div><div class="navigation-block"><h1><a href="/projects/">Projects</a></h1></div><div class="navigation-block"><h1><a href="/services/">Services</a></h1></div><div class="navigation-block"><h1><a href="https://usingtrees.ca">Shop</a></h1></div><div class="navigation-block"><h1><a href="/news/">News</a></h1></div><div class="navigation-block"><h1><a href="/lists/">Lists</a></h1></div><div class="navigation-block"><h1><a href="https://www.instagram.com/zacharymollica/">Follow</a></h1></div><div class="navigation-block"><h1><a href="mailto:zacharymollica@gmail.com">Email</a></h1></div></div></nav></header><div class="container"><div class="content" style="padding-top: 6em;"><style>ul{list-style-type:'–  ';font-size:.9em;max-width:760px;margin-left:1em}li a{color:blue}li{margin-bottom:.2em}h3{margin-top:1.5em}</style><h2 id="using-photogrammetry-well">Using Photogrammetry Well</h2><p><em>Last revised June 2025. Notes below are based on my own use of photogrammetry toolsets over the last ten years. This includes scanning trees, buildings, people, tools and many other things. The page is in continuous development. Its main function is as a resource for students working with me, but I hope others may find it helpful. Corrections and suggestions always welcome by email to <a href="mailto:zacharymollica@gmail.com">zacharymollica@gmail.com</a>.</em></p><h3 id="programs-i-use-to-work-on-scans">PROGRAMS I USE TO WORK ON SCANS</h3><ul><li><a href="https://agisoft.com">MetaShapePro</a> – Agisoft’s PGT package remains the one I have had the best consistent results from in both teaching and research work. Its GUI is effective, its stages are intuitive, and it utilizes a lot of your computer’s capacity. Good performance on both MAC and PC. Thought a fully functioning 30-day trial is available, licenses for both educational and professional packages are costly.</li><li><a href="https://www.capturingreality.com/">RealityCapture</a> – RealityCapture is another well established program run through a GUI. Recently it has become fully free to use for those not making serious profits off of it. The program is very powerful, though in my own experience is much less intuitive to run than MetaShape. PC Only.</li><li><a href="https://github.com/alicevision/meshroom/releases">MeshRoom</a> – Meshroom is a free to use PGT program that I would like to move towards using over time. Its interface has a unique approach to allowing the creation of your own workflows. Compare to MetaShape and RealityCapture, Meshroom is limited in the amount of your computer’s resources it can employ at once and therefore can become slow on larger projects.</li><li><a href="https://helpx.adobe.com/substance-3d-sampler.html">Adobe Substance 3D Sampler</a> – Adobe’s PGT offering is basic but may be of interest to those who already have access through their subscriptions. Not a program I would jump to pay for on its own.</li><li><a href="https://pointclouds.org/">Point Cloud Library</a> – Point Cloud Library (PCL) is a collection of programming packages that underlies many of the packaged tools in common use. Incredibly powerful to use directly but certainly more advanced to get up and running in this raw format.</li><li><a href="https://www.danielgm.net/cc/">CloudCompare</a> – CloudCompare is a program I would in short recommend to anyone working with point clouds. It is an irreplaceable tool within my workflows on too many projects to list.</li><li><a href="https://github.com/potree/potree/">Potree</a> – Potree is the core tool behind my <a href="/clouds/">website based pointclouds</a>.</li><li><a href="https://www.rhino3d.com/">Rhinoceros</a> – I use Rhino to model into pointclouds/meshes, and to create imagery/animations. It is more limited than tools like CloudCompare in the size of scan files that it can handle, but is super flexible.</li><li>Pointools – since integrated into Bentley packages</li></ul><h3 id="photogrammetry-in-general">PHOTOGRAMMETRY IN GENERAL</h3><ul><li>WHAT IT IS – Photogrammetry (PGT) is a broad term for techniques to obtain and digitize reliable information about physical things. This is done by recording, measuring and interpreting photographic images with the help of clever software packages. Typically the output is a 3D mesh or pointcloud object.</li><li>NOT TO SCALE – Unlike laser based scanning processes, models that are generated by PGT are not automatically to scale. These models will be three-dimensionally accurate, but markers and other scaling devices are required to produce a model whose dimensions can be relied on.</li><li>COORDINATE SPACE – Many PGT tools will allow processing in either cartesian or coordinate space. My work commonly uses cartesian space (working in meters). Coordinate space is more commonly used for drone scanning or other large area applications. To check your model space in MetaShape: navigate to the ‘Reference’ pane, and find the ‘Settings’ icon near top where you will be able to select between WSG and M.</li><li>MAKE SURE GPU ENABLED – Not every stage of PGT processing employs them, but in general, PGT work is greatly improved by the application of a dedicated GPU. Bigger the better. More is better in this area. In MetaShape you will want to ensure your GPU is selected to be used. Navigate to ‘Tools &gt; Preferences &gt; GPU’, and ensure that your GPU is selected or it will sit there queitly. If you have a dedicated and integrated GPU, it is typically better to keep the integrated GPU disabled.</li></ul><h3 id="starting-a-project">STARTING A PROJECT</h3><ul><li>USE A STRUCTURE – Most PGT programs work with some kind of database structure of file saving (i.e. not just one file) and reference other files into your project. If original images are lost, you may not be able to reopen or reuse a previously made project. As such I recommend establishing your own standard project folder structure and applying it rigorously.</li><li>SAVE REGULARLY – This applies to all work with large 3D scans. Even when things are going well, your tools will on occasion crash, and its better to lose less when this happens.</li></ul><h3 id="taking-good-pgt-photos-the-key-section">TAKING GOOD PGT PHOTOS (the key section)</h3><ul><li>HAVE A STRATEGY – Don’t shoot ad hoc. When taking photographs of a subject, work methodically and think through the sequence of photos you are about to take beforehand. Put yourself in the shoes of the software that will try to align these photos. For simple scans, it is generally sufficient to create a sphere or hemisphere of photo placements. More complex subjects require more complex shooting patterns.</li><li>FRAGMENTARY IS OK – no photos need to cover the entirety of an object. This may produce good results, but what is necessary is for some photos to cover all of a subject.</li><li>KEEP SAME FOCAL LENGTH – All photos should be taken with the same focal length for a project, ideally with a fixed length lens. If this is not available or best, then use one extreme of a variable lens (i.e. with 18mm or 55 mm in the case of 18-55mm lens) to ensure repeatability. In some cases there are reasons to use multiple lens, but this should be done noting difficulties in later processing.</li><li>RADIAL ARRANGEMENT – if photographing in a circle around a subject, you will require a minimum of 8 station points (i.e. 45 degree rotate). This is still low, and 12 is a better practice (eg. 30 degree increments)</li><li>EXACT POSITIONING – While a strategy is needed, photographs don’t need to be taken at exactly equal distance/rotation intervals.</li><li>OVERLAP – Aim for 50% overlap with neighbouring photos. In areas of significant geometric change – for example turning a corner in a hallway or entering a doorway – consider taking additional photographs</li><li>NUMBER OF PHOTOS – PGT processes will run with as large a photoset as you have hardware to achieve. Some rules of thumb: 24 photos is about the minimum to achieve a full one sided scan of a simple subject. 60 is a good average number for a full two sided coverage. Around 150 photos a projects begins to become heavy to run on less powerful computers. Over 1500 is a very big project.</li><li>BE PERPENDICULAR – All parts of a subject must have photos taken roughly perpendicular to them in order to produce quality results. If an object is covered within photos, but only obliquely, it will produce lesser results.</li><li>ORIENTATION – Most photogrammetry is done with landscape oriented photographs and some software will suggest this. Portrait orientation is also able to produce quality results, but in general avoid including both within a project.</li><li>MINIMAL PREPROCESSING – Until experienced with the tools photos take should be brought directly into Metashape without for example masking in Photoshop. Working with raw files is an exception to some of this.</li><li>CONSISTENT COLOURING – After good coverage, the principle goal in PGT photographs is to achieve consistent colouring and lighting within scenes. This aids alignment, model generation and particular texturing. In general, to do this you want to balance setting a low ISO number and high F-stop number. I tend to adjust shutter speed to achieve this. A tripod and various lighting arrangements can be beneficial.</li><li>CONSISTENT FOCUS – By setting a higher F-stop (greater depth of field) you ensure that a larger area of each photograph is in focus.</li><li>TRIPOD - When available and suitable a tripod will generally contribute to better PGT photographs by enabling a slower shutter speed to be used without a noticeable loss of focus.</li><li>VIDEO - Some PGT software will allow direct import of video files. For many scenarios this data will prove sufficient, but you should inspect exported frames for motion blur if experiencing difficulty.</li><li>WEATHER – A bright overcast day is ideal for photogrammetry, producing minimal direct/hard shadows in scenes/subjects. Where possible attempt to avoid direct sun, particularly cameras facing towards the sun.</li><li>LOOK UP AND DOWN – multiple angles taken from each station point you are photographing from. Particularly in the case of scene/environment scans rather than object.</li><li>NO WHITE – a plain white wall is among the hardest subjects you can try to capture. In general, this may produce the outlines of the wall without its middle. The same applies to all objects with minimal surface detail/complexity.</li><li>NO MOVING PEOPLE/CARS – an ideal scene has no changes occurring in it between photographs. Where this can’t be avoided, masking should be done before alignment processing.</li><li>ADDING PHOTOGRAPHS – if during initial processing you realize that you have missed key areas, new photos can be taken and added so long as the scene has not significantly changed. Aligning these photos without resetting everything requires some advanced experience.</li><li>FISHEYE? – when using a fish eye or similar super-wide views lens, further adjustments may be needed in settings dialogue: ‘Tools’ &gt; ‘Camera Calibration’</li><li>MOVE AS YOU GO – not just orbiting many directions from one sensor position.</li><li>TURNTABLE – When scanning smaller objects, it is possible to maintain a stationary camera and instead rotate your object on a turntable. This is an advanced use case and requires different settings in each software package.</li><li>PARTIAL IMAGES – No single image or series of images need to cover the entire object (ie be from far back) so long as the entirety of the scene is well covered. In the case of smaller objects it is likely you will have images that include the whole object being scanned.</li></ul><h3 id="general-pipeline-for-a-project-metashape">GENERAL PIPELINE FOR A PROJECT (Metashape)</h3><ul><li>Capture photographs</li><li>Transfer photos to computer for processing. Try to avoid any loss of resolution/information in this process. Avoid apps like Teams or Whatsapp the impose significant image optimization for size.</li><li>(optional) Apply some initial photo stacking/adjustment from raw photos.</li><li>Set up folder structure for your project. Typically this might include separating raw phtoographs from the PGT project and also leaving space for export files.</li><li>Import photos to Metashape by either dragging in, or selecting ‘Workflow’ &gt; ‘Add Photos’.</li><li>With all photos added, it is good practice to inspect each briefly, looking for bad exposures, duplicates or similar that should be removed/disabled.</li><li>(optional) Masking photos can be done to remove moving or otherwise bad subjects. Not necessary for all projects, it can be used to produce very high quality results.</li><li>“Workflow &gt; Align Photos”. For most projects, a setting of ‘High’ will be sufficient. Lower can be used if computing is limited, highest will sometimes improve results if time is available. Default setting of 40,000 and 4,000 for key and tie points are good for many scenes. Adjust and experiment.</li><li>Tie points – the sparse cloud produced after initial alignment is a model of the points used to align your photos. While sparse, it should look like your scene/subject.</li><li>(optional) Duplicate chunk in case steps below cause you to lose information you want to maintain.</li><li>Realign when results received are below expectation. To do this, re-run the alignment stage above ensuring ‘reset current alignment’ is selected.</li><li>(optional) Optimize tie points. Tools are available to remove some of the noise present in initial alignment. Not necessary as a step and potential harmful when using low quality photos.</li><li>(optional) In some cases you may skip directly to Workflow &gt; Build Mesh where you can use ‘Depth Maps’ to process a model directly from the photo alignment. More typical for my work is to first process a point cloud.</li><li>Adjust scene ‘Region’. This box will set the area for point clouds and meshes to be computed in. This can speed up processing significantly by limiting to critical area, and may result in missing pieces of subject if not adjusted correctly.</li><li>Workflow &gt; Build Point Cloud – start from lowest setting and work upwards to learn. Enable point colours and confidence for most scans as these are minor increases to processing time</li><li>(optional) Cleanup point cloud using selection tools in navigation</li><li>(optional) To process this cloud into a mesh, select ‘Workflow &gt; Build Mesh’, and then select ‘Point Cloud’ rather than ‘Depth Maps’ for source.</li><li>(optional) Clean up mesh. Using selection tools to identify and then delete undesired areas.</li><li>(optional) Use ‘Workflow &gt; Build Texture’ to build a renderable mesh if a more photorealistic texture of the model is desired.</li><li>Adding markers and scalebars can be done at any stage before exporting.</li><li>Export points clouds, meshes, or other information by right clicking in the left sidebar, or navigating to ‘File &gt; Export’</li><li>Import to CloudCompare, Rhino or your preferred further modeling/drawing tool for further steps.</li></ul><h3 id="aligning-photos-metashape">ALIGNING PHOTOS (Metashape)</h3><ul><li>MASKING - does not necessarily make a huge reduction to processing time. It does typically improve quality by limiting scene area.</li><li>GOOD PHOTOS MAKE GOOD ALIGNS – the best way ultimately to improve a photoset that is not aligning well is to reshoot the scene if this is possible/reasonable. Where it is not, there are lots of small variations to try.</li><li>RUN QUALITY – Align photos and the other critical steps in MetaShape can be run at one of five quality settings. These are listed as lowest to highest or lowest to ultrahigh. In general, a higher quality run will produce better results, but this is not always the case. For example, running a highest quality alignment attempt on poor quality photos may result in worse results than high. I relate this to the computer ‘overthinking’ the problem.</li><li>KEY POINTS</li><li>TIE POINTS</li><li>OTHER SETTINGS</li><li>OPTIMIZE CAMERAS - link to dino man as credit here for a better explanation</li></ul><h3 id="building-point-clouds-metashape">BUILDING POINT CLOUDS (Metashape)</h3><ul><li>LOW TO START – in most cases its worth running a fast process of a point cloud first. Use this to check your region is correctly adjusted…</li><li>BAD DATA OK – The presence of some bad data in a model does not imply that all data is bad. Likely this is the result of a few cameras being of low quality or imperfect alignment. All models should be inspected closely throughout the processing stages.</li><li>MANUAL CLEANING</li><li>CALCULATE CONFIDENCE – I always tick this setting. A quick glance at the point cloud with view settings turned to ‘Confidence’ will rapidly identify areas of best/worst coverage.</li><li>LOW IMPACT – Calculating colours and confidence have minimal impact on processing time.</li></ul><h3 id="build-model-metashape">BUILD MODEL (Metashape)</h3><ul><li>Building model depth map vs pointcloud</li><li>resource use</li></ul><h3 id="build-texture-metashape">BUILD TEXTURE (Metashape)</h3><ul><li>mode</li><li>resolution</li></ul><h3 id="exporting-metashape">EXPORTING (Metashape)</h3><ul><li>POINT CLOUD FORMAT – Exporting to various point cloud formats from Metashape will write clouds with slightly different properties. Some are exported in plain text while others are further encoded. Most commonly I commonly export E57, PTS and XYZ files. Some of these are uncompressed and human readable (XYZ) while other are not due to their compression (E57).</li><li>MESH FORMAT – OBJ, PLY. For exporting meshes, OBJ format is a simple and effective route to Rhino – including exporting models with rendered textures.</li><li>MIS-SCALED ON IMPORT – When importing clouds between programs you may find your data to be much larger or smaller than you anticipate. Typically this will be by a factor of 1000 in one direction or another due to a mismatch of units (mm vs m). A good trick is to scale the model up or down by 1000 with reference to the model’s origin (0,0,0).</li></ul><div style="clear:both; padding-bottom:2em;"></div></div></div><div style="clear:both;"></div><footer style="display:none;"><div class=""><div class="temp-footer large" style="margin-bottom:0;"><p class="tc"><a style="margin-right: .5em;margin-left: .5em;" href="/">Home</a><a style="margin-right: .5em;margin-left: .5em;" href="/about/">About</a><a style="margin-right: .5em;margin-left: .5em;" href="/projects/">Projects</a><a style="margin-right: .5em;margin-left: .5em;" href="/services/">Services</a><a style="margin-right: .5em;margin-left: .5em;" href="https://usingtrees.ca" target="_blank">Shop</a><a style="margin-right: .5em;margin-left: .5em;" href="/news/">News</a><a style="margin-right: .5em;margin-left: .5em;" href="/lists/">Lists</a><a style="margin-right: .5em;margin-left: .5em;" href="https://www.instagram.com/zacharymollica/" target="_blank">Follow</a><a style="margin-right: .5em;margin-left: .5em;" href="mailto:zacharymollica@gmail.com">Email</a></p></div></div></footer><script src="/assets/js/main.js"></script></body></html>